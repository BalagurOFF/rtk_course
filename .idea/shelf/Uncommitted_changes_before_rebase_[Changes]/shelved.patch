Index: RTK_study/contentmanagment/templates/contentmanagment/addnews.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% extends  'base.html' %}\r\n{% load bootstrap5 %}\r\n{% load static %}\r\n{% load formset_tags %}\r\n{% block head %}\r\n    <script src=\"{% static 'js/jquery.formset.js' %}\"></script>\r\n{% endblock head %}\r\n{% block title %}\r\n    {% if news.id %}\r\n        Изменение новости\r\n    {% else %}\r\n        Добавление новости\r\n    {% endif %}\r\n{% endblock title %}\r\n\r\n{% block content %}\r\n    {% if news.id %}\r\n        <h1 class=\"text-center py-3\">Изменение новости</h1>\r\n    {% else %}\r\n        <h1 class=\"text-center py-3\">Добавление новости</h1>\r\n    {% endif %}\r\n    <form class=\"form col-10 col-lg-8 mx-auto py-2\" id=\"form-container\" method=\"POST\" enctype=\"multipart/form-data\">\r\n        {% csrf_token %}\r\n        {% bootstrap_form form %}\r\n        <p>Медиа-материалы:</p>\r\n\r\n        <div id=\"formset\" data-formset-prefix=\"{{ formset.prefix }}\">\r\n            {{ formset.management_form }}\r\n            <div data-formset-body>\r\n                {% for form_image in formset %}\r\n                    <div data-formset-form>\r\n                        <hr class=\"py-1\">\r\n                        {% bootstrap_form form_image %}\r\n                    </div>\r\n                {% endfor %}\r\n            </div>\r\n\r\n        <!-- The empty form template. By wrapping this in a <script> tag, the\r\n        __prefix__ placeholder can easily be replaced in both attributes and\r\n        any scripts -->\r\n        <script type=\"form-template\" data-formset-empty-form>\r\n            {% escapescript %}\r\n\r\n                <div data-formset-form>\r\n                    <hr class=\"py-1\">\r\n                    {% bootstrap_form formset.empty_form %}\r\n<!--                    <button type=\"button\" class=\"btn btn-success\" data-formset-delete-button>Delete form</button> -->\r\n                </div>\r\n            {% endescapescript %}\r\n        </script>\r\n\r\n        <hr class=\"py-1\">\r\n        <!-- This button will add a new form when clicked -->\r\n        <button type=\"button\" class=\"btn btn-success\" data-formset-add>Добавить медиа-материал</button>\r\n<!--        <input type=\"button\" class=\"btn btn-success\" value=\"Add another\" data-formset-add> -->\r\n\r\n        <script>jQuery(function($) {\r\n            $(\"#formset\").formset({\r\n                animateForms: true\r\n            });\r\n        });</script>\r\n    </div>\r\n\r\n<!--\r\n       {% for form_image in formset %}\r\n            {% bootstrap_form form_image %}\r\n        {% endfor %}\r\n        {% bootstrap_form formset.empty_form %}\r\n        {{ formset.management_form }}\r\n-->\r\n        <div class=\"d-grid gap-2 d-md-flex justify-content-md-end pb-3\">\r\n\r\n            {% if news.id %}\r\n                <button type=\"button\" class=\"btn btn-success me-md-2\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n                    Удалить\r\n                </button>\r\n            {% endif %}\r\n            {% bootstrap_button \"Опубликовать\" button_type=\"submit\" button_class=\"btn-success\" %}\r\n        </div>\r\n\r\n    </form>\r\n\r\n    {{ form.media.js }}\r\n\r\n<!--\r\n    <script>\r\n        $('.select2').select2();\r\n    </script>\r\n-->\r\n    {% if news.id %}\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n        <div class=\"modal-dialog modal-dialog-centered\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">Вы действительно хотите удалить публикацию?</h5>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    {{ news.name }}\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-success\" data-bs-dismiss=\"modal\">Отмена</button>\r\n                    <a class=\"btn btn-success\" href=\"{% url 'contentmanagment:removeNews' news.id %}\" role=\"button\">Удалить</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- End modal -->\r\n    {% endif %}\r\n{% endblock content %}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/RTK_study/contentmanagment/templates/contentmanagment/addnews.html b/RTK_study/contentmanagment/templates/contentmanagment/addnews.html
--- a/RTK_study/contentmanagment/templates/contentmanagment/addnews.html	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ b/RTK_study/contentmanagment/templates/contentmanagment/addnews.html	(date 1702884713286)
@@ -1,10 +1,5 @@
 {% extends  'base.html' %}
 {% load bootstrap5 %}
-{% load static %}
-{% load formset_tags %}
-{% block head %}
-    <script src="{% static 'js/jquery.formset.js' %}"></script>
-{% endblock head %}
 {% block title %}
     {% if news.id %}
         Изменение новости
@@ -19,57 +14,11 @@
     {% else %}
         <h1 class="text-center py-3">Добавление новости</h1>
     {% endif %}
-    <form class="form col-10 col-lg-8 mx-auto py-2" id="form-container" method="POST" enctype="multipart/form-data">
+    <form class="form col-10 col-lg-8 mx-auto py-2" method="POST" enctype="multipart/form-data">
         {% csrf_token %}
         {% bootstrap_form form %}
-        <p>Медиа-материалы:</p>
-
-        <div id="formset" data-formset-prefix="{{ formset.prefix }}">
-            {{ formset.management_form }}
-            <div data-formset-body>
-                {% for form_image in formset %}
-                    <div data-formset-form>
-                        <hr class="py-1">
-                        {% bootstrap_form form_image %}
-                    </div>
-                {% endfor %}
-            </div>
-
-        <!-- The empty form template. By wrapping this in a <script> tag, the
-        __prefix__ placeholder can easily be replaced in both attributes and
-        any scripts -->
-        <script type="form-template" data-formset-empty-form>
-            {% escapescript %}
-
-                <div data-formset-form>
-                    <hr class="py-1">
-                    {% bootstrap_form formset.empty_form %}
-<!--                    <button type="button" class="btn btn-success" data-formset-delete-button>Delete form</button> -->
-                </div>
-            {% endescapescript %}
-        </script>
-
-        <hr class="py-1">
-        <!-- This button will add a new form when clicked -->
-        <button type="button" class="btn btn-success" data-formset-add>Добавить медиа-материал</button>
-<!--        <input type="button" class="btn btn-success" value="Add another" data-formset-add> -->
 
-        <script>jQuery(function($) {
-            $("#formset").formset({
-                animateForms: true
-            });
-        });</script>
-    </div>
-
-<!--
-       {% for form_image in formset %}
-            {% bootstrap_form form_image %}
-        {% endfor %}
-        {% bootstrap_form formset.empty_form %}
-        {{ formset.management_form }}
--->
-        <div class="d-grid gap-2 d-md-flex justify-content-md-end pb-3">
-
+        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
             {% if news.id %}
                 <button type="button" class="btn btn-success me-md-2" data-bs-toggle="modal" data-bs-target="#exampleModal">
                     Удалить
@@ -79,9 +28,7 @@
         </div>
 
     </form>
-
     {{ form.media.js }}
-
 <!--
     <script>
         $('.select2').select2();
Index: RTK_study/contentmanagment/forms.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from django import forms\r\nfrom main.models import PublicationsModel, TagsModel, ImagesModel\r\nfrom django_select2.forms import Select2MultipleWidget, Select2Widget\r\nfrom django.forms.models import inlineformset_factory\r\n\r\n\r\nclass MultipleFileInput(forms.ClearableFileInput):\r\n    allow_multiple_selected = True\r\n\r\n\r\nclass MultipleFileField(forms.FileField):\r\n    def __init__(self, *args, **kwargs):\r\n        kwargs.setdefault(\"widget\", MultipleFileInput())\r\n        super().__init__(*args, **kwargs)\r\n\r\n    def clean(self, data, initial=None):\r\n        single_file_clean = super().clean\r\n        if isinstance(data, (list, tuple)):\r\n            result = [single_file_clean(d, initial) for d in data]\r\n        else:\r\n            result = single_file_clean(data, initial)\r\n        return result\r\n\r\n\r\nclass AddPublicationsForm(forms.ModelForm):\r\n    #image_field = MultipleFileField(label = 'Медиа-материалы')\r\n\r\n    class Meta:\r\n        model = PublicationsModel\r\n        fields = ['title', 'text', 'tags', 'show_news']\r\n\r\n        widgets = {\r\n            'title': forms.TextInput(attrs={'class': 'form-control'}),\r\n            'text': forms.Textarea(attrs={'class': 'form-control', 'rows': '10'}),\r\n            'tags': Select2MultipleWidget(),\r\n            'show_news': forms.CheckboxInput()\r\n        }\r\n\r\n        labels = {\r\n            'title': 'Название',\r\n            'text': 'Текст новости',\r\n            'tags': 'Тэги новостей',\r\n            'show_news': 'Отображать новость'\r\n        }\r\n    field_order = ['title', 'image_field', 'text', 'tags', 'show_news']\r\n\r\n\r\nclass TagsForm(forms.ModelForm):\r\n    class Meta:\r\n        model = TagsModel\r\n        fields = ['description']\r\n        widgets = {\r\n            'description': forms.TextInput(attrs={'class': 'form-control'}),\r\n        }\r\n\r\n\r\nclass ImageForm(forms.ModelForm):\r\n    class Meta:\r\n        model = ImagesModel\r\n        fields = ['image', 'description']\r\n        labels = {\r\n            'image': 'Изображение',\r\n            'description': 'Описание',\r\n        }\r\n\r\n\r\nAddImageFormset = inlineformset_factory(PublicationsModel, ImagesModel, form=ImageForm, fields=['image', 'description'], extra=0)\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/RTK_study/contentmanagment/forms.py b/RTK_study/contentmanagment/forms.py
--- a/RTK_study/contentmanagment/forms.py	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ b/RTK_study/contentmanagment/forms.py	(date 1702884713285)
@@ -23,7 +23,7 @@
 
 
 class AddPublicationsForm(forms.ModelForm):
-    #image_field = MultipleFileField(label = 'Медиа-материалы')
+    image_field = MultipleFileField(label = 'Медиа-материалы')
 
     class Meta:
         model = PublicationsModel
@@ -31,7 +31,7 @@
 
         widgets = {
             'title': forms.TextInput(attrs={'class': 'form-control'}),
-            'text': forms.Textarea(attrs={'class': 'form-control', 'rows': '10'}),
+            'text': forms.Textarea(attrs={'class': 'form-control', 'rows': '5'}),
             'tags': Select2MultipleWidget(),
             'show_news': forms.CheckboxInput()
         }
@@ -52,16 +52,3 @@
         widgets = {
             'description': forms.TextInput(attrs={'class': 'form-control'}),
         }
-
-
-class ImageForm(forms.ModelForm):
-    class Meta:
-        model = ImagesModel
-        fields = ['image', 'description']
-        labels = {
-            'image': 'Изображение',
-            'description': 'Описание',
-        }
-
-
-AddImageFormset = inlineformset_factory(PublicationsModel, ImagesModel, form=ImageForm, fields=['image', 'description'], extra=0)
Index: .idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41_[Changes]1/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41_[Changes]1/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41_[Changes]1/shelved.patch	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ /dev/null	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
@@ -1,19 +0,0 @@
-Index: .idea/misc.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"Black\">\r\n    <option name=\"sdkName\" value=\"Python 3.12 (rtk_course)\" />\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" project-jdk-name=\"Python 3.11 (rtk_course) (2)\" project-jdk-type=\"Python SDK\" />\r\n  <component name=\"PyCharmProfessionalAdvertiser\">\r\n    <option name=\"shown\" value=\"true\" />\r\n  </component>\r\n</project>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/.idea/misc.xml b/.idea/misc.xml
---- a/.idea/misc.xml	
-+++ b/.idea/misc.xml	
-@@ -3,7 +3,7 @@
-   <component name="Black">
-     <option name="sdkName" value="Python 3.12 (rtk_course)" />
-   </component>
--  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.11 (rtk_course) (2)" project-jdk-type="Python SDK" />
-+  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.12 (rtk_course)" project-jdk-type="Python SDK" />
-   <component name="PyCharmProfessionalAdvertiser">
-     <option name="shown" value="true" />
-   </component>
Index: .idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41__Changes_1.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41__Changes_1.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41__Changes_1.xml	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ /dev/null	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
@@ -1,9 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_15_12_2023_23_41_[Changes]1" date="1702651290465" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41_[Changes]1/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 15.12.2023 23:41 [Changes]" />
-  <binary>
-    <option name="BEFORE_PATH" value="RTK_study/db.sqlite3" />
-    <option name="AFTER_PATH" value="RTK_study/db.sqlite3" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41_[Changes]1/db.sqlite3" />
-  </binary>
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41__Changes_.xml	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ /dev/null	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_15_12_2023_23_41_[Changes]" date="1702651267740" recycled="false" toDelete="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 15.12.2023 23:41 [Changes]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_15_12_2023_23_33_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Checkout_at_15_12_2023_23_33_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Checkout_at_15_12_2023_23_33_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Checkout_at_15_12_2023_23_33_[Changes]/shelved.patch	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ /dev/null	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
@@ -1,154 +0,0 @@
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41__Changes_.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41__Changes_.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41__Changes_.xml	(revision 3b09db93bacfd90142585619a1bab78282a5f5c4)
-+++ /dev/null	(revision 3b09db93bacfd90142585619a1bab78282a5f5c4)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_07_12_2023_21_41_[Changes]" date="1701952913602" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41_[Changes]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 07.12.2023 21:41 [Changes]" />
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41_[Changes]/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41_[Changes]/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41_[Changes]/shelved.patch	(revision 3b09db93bacfd90142585619a1bab78282a5f5c4)
-+++ /dev/null	(revision 3b09db93bacfd90142585619a1bab78282a5f5c4)
-@@ -1,116 +0,0 @@
--Index: readme.md
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+># Здравствуйте! Меня зовут Александр.\r\n### Этот репозиторий создан для учебного проекта на Django\r\n\r\n### Заведен тестовый пользователь с данными для авторизации user/user_123\r\n\r\n#### Список задач, которые нужно решить в этом проекте:\r\n\r\n- [ ] Создание общих шаблонов\r\n  - [x] шабон страницы 404\r\n  - [x] Шаблон страницы AccessDenied\r\n  - [x] Шазовый шаблон\r\n  - [x] Шаблон футера\r\n  - [ ] Шаблон верхнего меню\r\n  - [x] Шаблон страницы для рендерингра пагинатора\r\n  - [x] Шаблон бокового меню\r\n- [x] Создание приложения User\r\n  - [x] Создание моделей\r\n    - [x] Создание кастомной модели User\r\n  - [x] Создание форм приложения\r\n    - [x] Форма авторизации\r\n    - [x] 2 формы регистрации пользователя\r\n    - [x] 2 формы редактирования профиля \r\n    - [x] Форма создания и редактирования групп доступа\r\n  - [x] Создание представлений приложения с шаблонами\r\n    - [x] Представление авторизации\r\n    - [x] Представление регистрации\r\n    - [x] Представление редактирования профиля\r\n    - [x] Представление выхода пользователя\r\n    - [x] Представление смены пароля пользователя\r\n    - [x] Представление списка пользователей\r\n    - [x] Представление удаления пользователя\r\n    - [x] Представление списка групп доступа\r\n    - [x] Представление добавления группы доступа\r\n    - [x] Представление удаления группы доступа\r\n  - [x] Настройка прав доступа к представлениям\r\n  - [x] Настройка URL\r\n- [ ] Создание приложения просмотра публикаций\r\n  - [x] Создание моделей\r\n    - [x] Создание модели Публикации\r\n    - [x] Создание модели Тэги публикации\r\n    - [x] Создание модели Комментарии публикации\r\n  - [ ] Создание форм приложения\r\n    - [x] Создание формы обратной связи\r\n    - [x] Создание формы добавления комментария\r\n    - [ ] Создание формы поиска\r\n  -  [ ] Создание представлений приложения с шаблонами\r\n    - [x] Создание представления О нас\r\n    - [ ] Создание представления обратной связи\r\n    - [x] Создание представления списка публикации (annotate)\r\n    - [x] Создание представления полного текста публикации с функией добавления комментариев\r\n    - [x] Создание представления страницы 404\r\n    - [ ] Создание представления модерирования комментариев\r\n  - [ ] Настройка прав доступа к представлениям\r\n  - [x] Настройка URL\r\n- [ ] Создание приложения администрирования публикаций\r\n  - [x] Создание форм приложения\r\n    - [x] Создание формы добавления и редактирования публикации\r\n    - [x] Создание формы добавления и редактирования тэгов публикации\r\n  - [x] Создание представлений приложения с шаблонами\r\n    - [x] Создание представления списка публикаций автора\r\n    - [x] Создание представления добавления и изменения публикации\r\n    - [x] Создание представления удаления публикации\r\n    - [x] Создание представления добавления и редактирования тэгов публикации\r\n    - [ ] Создание представления удаления тэгов\r\n    - [ ] Создание представления списка публикаций для руководства\r\n  - [ ] Настройка прав доступа к представлениям\r\n  - [x] Настройка URL\r\n- [ ] оптимизация приложений
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/readme.md b/readme.md
----- a/readme.md	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--+++ b/readme.md	(date 1701428732713)
--@@ -8,7 +8,7 @@
-- - [ ] Создание общих шаблонов
--   - [x] шабон страницы 404
--   - [x] Шаблон страницы AccessDenied
---  - [x] Шазовый шаблон
--+  - [x] Базовый шаблон
--   - [x] Шаблон футера
--   - [ ] Шаблон верхнего меню
--   - [x] Шаблон страницы для рендерингра пагинатора
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31__Changes_.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31__Changes_.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31__Changes_.xml	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--+++ /dev/null	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_28_11_2023_22_31_[Changes]" date="1701178318062" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31_[Changes]/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 28.11.2023 22:31 [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31_[Changes]/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31_[Changes]/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31_[Changes]/shelved.patch	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--+++ /dev/null	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--@@ -1,20 +0,0 @@
---Index: .idea/misc.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ProjectRootManager\" version=\"2\" project-jdk-name=\"Python 3.11 (rtk_course) (2)\" project-jdk-type=\"Python SDK\" />\r\n</project>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/.idea/misc.xml b/.idea/misc.xml
------ a/.idea/misc.xml	(revision 9207f1a7983d69dc70698716f66035e69758a138)
---+++ b/.idea/misc.xml	(date 1701178201765)
---@@ -1,4 +1,7 @@
--- <?xml version="1.0" encoding="UTF-8"?>
--- <project version="4">
----  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.11 (rtk_course) (2)" project-jdk-type="Python SDK" />
---+  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.12 (rtk_course)" project-jdk-type="Python SDK" />
---+  <component name="PyCharmProfessionalAdvertiser">
---+    <option name="shown" value="true" />
---+  </component>
--- </project>
---\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39__Changes_1.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39__Changes_1.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39__Changes_1.xml	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--+++ /dev/null	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_29_11_2023_8_39_[Changes]1" date="1701214786729" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39_[Changes]1/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 29.11.2023 8:39 [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39_[Changes]1/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39_[Changes]1/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39_[Changes]1/shelved.patch	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--+++ /dev/null	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--@@ -1,39 +0,0 @@
---Index: .idea/misc.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"Black\">\r\n    <option name=\"sdkName\" value=\"Python 3.12 (rtk_course)\" />\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" project-jdk-name=\"Python 3.12 (rtk_course)\" project-jdk-type=\"Python SDK\" />\r\n  <component name=\"PyCharmProfessionalAdvertiser\">\r\n    <option name=\"shown\" value=\"true\" />\r\n  </component>\r\n</project>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/.idea/misc.xml b/.idea/misc.xml
------ a/.idea/misc.xml	
---+++ b/.idea/misc.xml	
---@@ -3,7 +3,7 @@
---   <component name="Black">
---     <option name="sdkName" value="Python 3.12 (rtk_course)" />
---   </component>
----  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.12 (rtk_course)" project-jdk-type="Python SDK" />
---+  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.11 (rtk_course)" project-jdk-type="Python SDK" />
---   <component name="PyCharmProfessionalAdvertiser">
---     <option name="shown" value="true" />
---   </component>
---Index: .idea/rtk_course.iml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<module type=\"PYTHON_MODULE\" version=\"4\">\r\n  <component name=\"NewModuleRootManager\">\r\n    <content url=\"file://$MODULE_DIR$\">\r\n      <excludeFolder url=\"file://$MODULE_DIR$/venv\" />\r\n    </content>\r\n    <orderEntry type=\"inheritedJdk\" />\r\n    <orderEntry type=\"sourceFolder\" forTests=\"false\" />\r\n  </component>\r\n</module>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/.idea/rtk_course.iml b/.idea/rtk_course.iml
------ a/.idea/rtk_course.iml	
---+++ b/.idea/rtk_course.iml	
---@@ -4,7 +4,7 @@
---     <content url="file://$MODULE_DIR$">
---       <excludeFolder url="file://$MODULE_DIR$/venv" />
---     </content>
----    <orderEntry type="inheritedJdk" />
---+    <orderEntry type="jdk" jdkName="Python 3.11 (rtk_course)" jdkType="Python SDK" />
---     <orderEntry type="sourceFolder" forTests="false" />
---   </component>
--- </module>
---\ No newline at end of file
-Index: .idea/misc.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"Black\">\r\n    <option name=\"sdkName\" value=\"Python 3.12 (rtk_course)\" />\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" project-jdk-name=\"Python 3.11 (rtk_course) (2)\" project-jdk-type=\"Python SDK\" />\r\n  <component name=\"PyCharmProfessionalAdvertiser\">\r\n    <option name=\"shown\" value=\"true\" />\r\n  </component>\r\n</project>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/.idea/misc.xml b/.idea/misc.xml
---- a/.idea/misc.xml	(revision 3b09db93bacfd90142585619a1bab78282a5f5c4)
-+++ b/.idea/misc.xml	(date 1702650222304)
-@@ -3,7 +3,7 @@
-   <component name="Black">
-     <option name="sdkName" value="Python 3.12 (rtk_course)" />
-   </component>
--  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.11 (rtk_course) (2)" project-jdk-type="Python SDK" />
-+  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.12 (rtk_course)" project-jdk-type="Python SDK" />
-   <component name="PyCharmProfessionalAdvertiser">
-     <option name="shown" value="true" />
-   </component>
Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_15_12_2023_23_33__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Checkout_at_15_12_2023_23_33__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Checkout_at_15_12_2023_23_33__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Checkout_at_15_12_2023_23_33__Changes_.xml	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ /dev/null	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
@@ -1,9 +0,0 @@
-<changelist name="Uncommitted_changes_before_Checkout_at_15_12_2023_23_33_[Changes]" date="1702650790224" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_15_12_2023_23_33_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Checkout at 15.12.2023 23:33 [Changes]" />
-  <binary>
-    <option name="BEFORE_PATH" value="RTK_study/db.sqlite3" />
-    <option name="AFTER_PATH" value="RTK_study/db.sqlite3" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_15_12_2023_23_33_[Changes]/db.sqlite3" />
-  </binary>
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_20_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_20_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_20_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_20_[Changes]/shelved.patch	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ /dev/null	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
@@ -1,135 +0,0 @@
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41__Changes_.xml
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41__Changes_.xml
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41__Changes_.xml	(revision 315244f5694e67807f7d99f7f53fae33c74d33cc)
-+++ /dev/null	(revision 315244f5694e67807f7d99f7f53fae33c74d33cc)
-@@ -1,4 +0,0 @@
--<changelist name="Uncommitted_changes_before_Update_at_07_12_2023_21_41_[Changes]" date="1701952913602" recycled="true" deleted="true">
--  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41_[Changes]/shelved.patch" />
--  <option name="DESCRIPTION" value="Uncommitted changes before Update at 07.12.2023 21:41 [Changes]" />
--</changelist>
-\ No newline at end of file
-Index: .idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41_[Changes]/shelved.patch
-===================================================================
-diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41_[Changes]/shelved.patch
-deleted file mode 100644
---- a/.idea/shelf/Uncommitted_changes_before_Update_at_07_12_2023_21_41_[Changes]/shelved.patch	(revision 315244f5694e67807f7d99f7f53fae33c74d33cc)
-+++ /dev/null	(revision 315244f5694e67807f7d99f7f53fae33c74d33cc)
-@@ -1,116 +0,0 @@
--Index: readme.md
--IDEA additional info:
--Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
--<+># Здравствуйте! Меня зовут Александр.\r\n### Этот репозиторий создан для учебного проекта на Django\r\n\r\n### Заведен тестовый пользователь с данными для авторизации user/user_123\r\n\r\n#### Список задач, которые нужно решить в этом проекте:\r\n\r\n- [ ] Создание общих шаблонов\r\n  - [x] шабон страницы 404\r\n  - [x] Шаблон страницы AccessDenied\r\n  - [x] Шазовый шаблон\r\n  - [x] Шаблон футера\r\n  - [ ] Шаблон верхнего меню\r\n  - [x] Шаблон страницы для рендерингра пагинатора\r\n  - [x] Шаблон бокового меню\r\n- [x] Создание приложения User\r\n  - [x] Создание моделей\r\n    - [x] Создание кастомной модели User\r\n  - [x] Создание форм приложения\r\n    - [x] Форма авторизации\r\n    - [x] 2 формы регистрации пользователя\r\n    - [x] 2 формы редактирования профиля \r\n    - [x] Форма создания и редактирования групп доступа\r\n  - [x] Создание представлений приложения с шаблонами\r\n    - [x] Представление авторизации\r\n    - [x] Представление регистрации\r\n    - [x] Представление редактирования профиля\r\n    - [x] Представление выхода пользователя\r\n    - [x] Представление смены пароля пользователя\r\n    - [x] Представление списка пользователей\r\n    - [x] Представление удаления пользователя\r\n    - [x] Представление списка групп доступа\r\n    - [x] Представление добавления группы доступа\r\n    - [x] Представление удаления группы доступа\r\n  - [x] Настройка прав доступа к представлениям\r\n  - [x] Настройка URL\r\n- [ ] Создание приложения просмотра публикаций\r\n  - [x] Создание моделей\r\n    - [x] Создание модели Публикации\r\n    - [x] Создание модели Тэги публикации\r\n    - [x] Создание модели Комментарии публикации\r\n  - [ ] Создание форм приложения\r\n    - [x] Создание формы обратной связи\r\n    - [x] Создание формы добавления комментария\r\n    - [ ] Создание формы поиска\r\n  -  [ ] Создание представлений приложения с шаблонами\r\n    - [x] Создание представления О нас\r\n    - [ ] Создание представления обратной связи\r\n    - [x] Создание представления списка публикации (annotate)\r\n    - [x] Создание представления полного текста публикации с функией добавления комментариев\r\n    - [x] Создание представления страницы 404\r\n    - [ ] Создание представления модерирования комментариев\r\n  - [ ] Настройка прав доступа к представлениям\r\n  - [x] Настройка URL\r\n- [ ] Создание приложения администрирования публикаций\r\n  - [x] Создание форм приложения\r\n    - [x] Создание формы добавления и редактирования публикации\r\n    - [x] Создание формы добавления и редактирования тэгов публикации\r\n  - [x] Создание представлений приложения с шаблонами\r\n    - [x] Создание представления списка публикаций автора\r\n    - [x] Создание представления добавления и изменения публикации\r\n    - [x] Создание представления удаления публикации\r\n    - [x] Создание представления добавления и редактирования тэгов публикации\r\n    - [ ] Создание представления удаления тэгов\r\n    - [ ] Создание представления списка публикаций для руководства\r\n  - [ ] Настройка прав доступа к представлениям\r\n  - [x] Настройка URL\r\n- [ ] оптимизация приложений
--Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
--<+>UTF-8
--===================================================================
--diff --git a/readme.md b/readme.md
----- a/readme.md	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--+++ b/readme.md	(date 1701428732713)
--@@ -8,7 +8,7 @@
-- - [ ] Создание общих шаблонов
--   - [x] шабон страницы 404
--   - [x] Шаблон страницы AccessDenied
---  - [x] Шазовый шаблон
--+  - [x] Базовый шаблон
--   - [x] Шаблон футера
--   - [ ] Шаблон верхнего меню
--   - [x] Шаблон страницы для рендерингра пагинатора
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31__Changes_.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31__Changes_.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31__Changes_.xml	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--+++ /dev/null	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_28_11_2023_22_31_[Changes]" date="1701178318062" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31_[Changes]/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 28.11.2023 22:31 [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31_[Changes]/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31_[Changes]/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_28_11_2023_22_31_[Changes]/shelved.patch	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--+++ /dev/null	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--@@ -1,20 +0,0 @@
---Index: .idea/misc.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ProjectRootManager\" version=\"2\" project-jdk-name=\"Python 3.11 (rtk_course) (2)\" project-jdk-type=\"Python SDK\" />\r\n</project>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/.idea/misc.xml b/.idea/misc.xml
------ a/.idea/misc.xml	(revision 9207f1a7983d69dc70698716f66035e69758a138)
---+++ b/.idea/misc.xml	(date 1701178201765)
---@@ -1,4 +1,7 @@
--- <?xml version="1.0" encoding="UTF-8"?>
--- <project version="4">
----  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.11 (rtk_course) (2)" project-jdk-type="Python SDK" />
---+  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.12 (rtk_course)" project-jdk-type="Python SDK" />
---+  <component name="PyCharmProfessionalAdvertiser">
---+    <option name="shown" value="true" />
---+  </component>
--- </project>
---\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39__Changes_1.xml
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39__Changes_1.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39__Changes_1.xml
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39__Changes_1.xml	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--+++ /dev/null	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--@@ -1,4 +0,0 @@
---<changelist name="Uncommitted_changes_before_Update_at_29_11_2023_8_39_[Changes]1" date="1701214786729" recycled="true" deleted="true">
---  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39_[Changes]1/shelved.patch" />
---  <option name="DESCRIPTION" value="Uncommitted changes before Update at 29.11.2023 8:39 [Changes]" />
---</changelist>
--\ No newline at end of file
--Index: .idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39_[Changes]1/shelved.patch
--===================================================================
--diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39_[Changes]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39_[Changes]1/shelved.patch
--deleted file mode 100644
----- a/.idea/shelf/Uncommitted_changes_before_Update_at_29_11_2023_8_39_[Changes]1/shelved.patch	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--+++ /dev/null	(revision 0f3748eb893451fb5ef8a35747866e41ef65d24f)
--@@ -1,39 +0,0 @@
---Index: .idea/misc.xml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"Black\">\r\n    <option name=\"sdkName\" value=\"Python 3.12 (rtk_course)\" />\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" project-jdk-name=\"Python 3.12 (rtk_course)\" project-jdk-type=\"Python SDK\" />\r\n  <component name=\"PyCharmProfessionalAdvertiser\">\r\n    <option name=\"shown\" value=\"true\" />\r\n  </component>\r\n</project>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/.idea/misc.xml b/.idea/misc.xml
------ a/.idea/misc.xml	
---+++ b/.idea/misc.xml	
---@@ -3,7 +3,7 @@
---   <component name="Black">
---     <option name="sdkName" value="Python 3.12 (rtk_course)" />
---   </component>
----  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.12 (rtk_course)" project-jdk-type="Python SDK" />
---+  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.11 (rtk_course)" project-jdk-type="Python SDK" />
---   <component name="PyCharmProfessionalAdvertiser">
---     <option name="shown" value="true" />
---   </component>
---Index: .idea/rtk_course.iml
---IDEA additional info:
---Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
---<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<module type=\"PYTHON_MODULE\" version=\"4\">\r\n  <component name=\"NewModuleRootManager\">\r\n    <content url=\"file://$MODULE_DIR$\">\r\n      <excludeFolder url=\"file://$MODULE_DIR$/venv\" />\r\n    </content>\r\n    <orderEntry type=\"inheritedJdk\" />\r\n    <orderEntry type=\"sourceFolder\" forTests=\"false\" />\r\n  </component>\r\n</module>
---Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
---<+>UTF-8
---===================================================================
---diff --git a/.idea/rtk_course.iml b/.idea/rtk_course.iml
------ a/.idea/rtk_course.iml	
---+++ b/.idea/rtk_course.iml	
---@@ -4,7 +4,7 @@
---     <content url="file://$MODULE_DIR$">
---       <excludeFolder url="file://$MODULE_DIR$/venv" />
---     </content>
----    <orderEntry type="inheritedJdk" />
---+    <orderEntry type="jdk" jdkName="Python 3.11 (rtk_course)" jdkType="Python SDK" />
---     <orderEntry type="sourceFolder" forTests="false" />
---   </component>
--- </module>
---\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41_[Changes]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41_[Changes]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41_[Changes]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_41_[Changes]/shelved.patch	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ /dev/null	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
@@ -1,19 +0,0 @@
-Index: RTK_study/contentmanagment/views.py
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>import datetime\r\nfrom django.contrib.auth import get_user_model\r\nfrom django.contrib.auth.decorators import permission_required\r\nfrom django.core.paginator import Paginator\r\nfrom django.db.models import F, CharField, Q\r\nfrom django.db.models.functions import Concat\r\nfrom django.http import HttpResponseRedirect\r\nfrom django.shortcuts import render, redirect\r\nfrom django.contrib.auth.models import Permission\r\nfrom .forms import AddPublicationsForm, TagsForm, AddImageFormset\r\nfrom main.models import PublicationsModel, TagsModel, ImagesModel\r\n\r\n\r\nUser = get_user_model()\r\n\r\n\r\n@permission_required(['main.publications_editor'], raise_exception=True)\r\ndef creantepublication(request, id=None):\r\n    template_name = 'contentmanagment/addnews.html'\r\n    order_instance = PublicationsModel()\r\n    if id:\r\n        order_instance = PublicationsModel.objects.get(pk=id)\r\n    form = AddPublicationsForm(request.POST or None, instance=order_instance, prefix='main')\r\n    formset = AddImageFormset(request.POST or None, request.FILES or None, instance=order_instance, prefix='images')\r\n    if request.method == 'POST':\r\n        if form.is_valid() and formset.is_valid():\r\n            news_entry = form.save(commit=False)\r\n            news_entry.autor = request.user\r\n            news_entry.date_pub = datetime.datetime.now()\r\n            news_entry.editor = request.user\r\n            news_entry.save()\r\n            form.save_m2m()\r\n            formset.save()\r\n            url_referer = request.session['url_referer']\r\n            return HttpResponseRedirect(url_referer)\r\n    request.session['url_referer'] = request.META.get('HTTP_REFERER')\r\n    context = {'form': form, 'formset': formset}\r\n    return render(request, template_name, context)\r\n\r\n\r\n\r\n#@permission_required(['main.publications_editor'], raise_exception=True)\r\n#def addnews(request, id=None):\r\n#    context = {}\r\n#    if id:\r\n#        instance = PublicationsModel.objects.get(pk=id)\r\n#        form = AddPublicationsForm(instance=instance)\r\n#    else:\r\n#        instance = None\r\n#        form = AddPublicationsForm()\r\n#    if request.method == 'POST':\r\n#        form = AddPublicationsForm(request.POST, request.FILES, instance=instance)\r\n#        if form.is_valid():\r\n#            if id is None:\r\n#                print('!!!!!!!!!!!!!!!!!!!!!!', datetime.datetime.now())\r\n#                news_entry = form.save(commit=False)\r\n#                news_entry.autor = request.user\r\n#                news_entry.date_pub = datetime.datetime.now()\r\n#                news_entry.editor = request.user\r\n#                news_entry.save()\r\n#                form.save_m2m()\r\n#                for img in request.FILES.getlist('image_field'):\r\n#                    ImagesModel.objects.create(news=news_entry, image=img, description=img.name)\r\n#            else:\r\n#                news_entry = form.save(commit=False)\r\n#                news_entry.editor = request.user\r\n#                news_entry.save()\r\n#                form.save_m2m()\r\n#                for img in request.FILES.getlist('image_field'):\r\n#                    ImagesModel.objects.create(news=news_entry, image=img, description=img.name)\r\n#        url_referer = request.session['url_referer']\r\n#        return HttpResponseRedirect(url_referer)\r\n#    request.session['url_referer'] = request.META.get('HTTP_REFERER')\r\n#    context['form'] = form\r\n#    context['news'] = instance\r\n#    return render(request, 'contentmanagment/addnews.html', context)\r\n#\r\n\r\n@permission_required(['main.publications_editor'], raise_exception=True)\r\ndef newschange(request):\r\n    newslist = PublicationsModel.objects.filter(autor=request.user).order_by('-date_pub')\r\n    context = {'newslist': newslist}\r\n    return render(request, 'contentmanagment/newslist.html', context)\r\n\r\n\r\n@permission_required(['main.publications_editor', 'main.main_publications_editor'], raise_exception=True)\r\ndef removenews(request, news_id):\r\n    PublicationsModel.objects.filter(id=news_id).delete()\r\n    return redirect('contentmanagment:news-list', permanent=True)\r\n\r\n\r\n@permission_required(['main.tags_editor'], raise_exception=True)\r\ndef tags(request, id=None):\r\n    tags_news = TagsModel.objects.all()\r\n    if id is not None:\r\n        instance = TagsModel.objects.get(pk=id)\r\n        form = TagsForm(instance=instance)\r\n    else:\r\n        form = TagsForm()\r\n    if request.method == 'POST':\r\n        if id is not None:\r\n            instance = TagsModel.objects.get(pk=id)\r\n            form = TagsForm(request.POST, instance=instance)\r\n        else:\r\n            form = TagsForm(request.POST)\r\n        if form.is_valid():\r\n            form.save()\r\n            return redirect('contentmanagment:tags', permanent=True)\r\n    context = {\r\n        'tags': tags_news,\r\n        'form': form,\r\n        'id': id,\r\n    }\r\n    return render(request, 'contentmanagment/tags.html', context)\r\n\r\n\r\n@permission_required(['main.main_publications_editor'], raise_exception=True)\r\ndef administratenews(request):\r\n    date_start = datetime.date.today() - datetime.timedelta(days=30)\r\n    date_end = datetime.date.today()\r\n    autor_id = 0\r\n    queryset = PublicationsModel.objects.filter(Q(date_pub__date__gte = date_start) & Q(date_pub__date__lte = date_end)).order_by('-date_pub')\r\n    if request.method == 'POST':\r\n        if request.POST['date_start']:\r\n            date_start = datetime.datetime.strptime(request.POST['date_start'], \"%Y-%m-%d\")\r\n            queryset = queryset.filter(date_pub__date__gte = date_start)\r\n        if request.POST['date_end']:\r\n            date_end = datetime.datetime.strptime(request.POST['date_end'], \"%Y-%m-%d\")\r\n            queryset = queryset.filter(date_pub__date__lte = date_end)\r\n        autor_id = int(request.POST['autor'])\r\n        if autor_id != 0:\r\n            queryset = queryset.filter(autor = autor_id)\r\n\r\n    paginator = Paginator(queryset.distinct(), 20)\r\n    page_number = request.GET.get('page')\r\n    newslist = paginator.get_page(page_number)\r\n    perm = Permission.objects.get(codename='publications_editor')\r\n    autors = User.objects.filter(Q(groups__permissions=perm) | Q(user_permissions=perm)).distinct()\r\n    context = {'newslist': newslist, 'autors': autors, 'date_start': date_start.strftime('%Y-%m-%d'), 'date_end': date_end.strftime('%Y-%m-%d'), 'autor_id': autor_id}\r\n    return render(request, 'contentmanagment/adminlist.html', context)\r\n\r\n\r\n@permission_required(['main.tags_editor'], raise_exception=True)\r\ndef removetag(request, id=None):\r\n    if id is not None:\r\n        TagsModel.objects.filter(id=id).delete()\r\n        return redirect('contentmanagment:tags', permanent=True)\r\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/RTK_study/contentmanagment/views.py b/RTK_study/contentmanagment/views.py
---- a/RTK_study/contentmanagment/views.py	
-+++ b/RTK_study/contentmanagment/views.py	
-@@ -34,7 +34,7 @@
-             url_referer = request.session['url_referer']
-             return HttpResponseRedirect(url_referer)
-     request.session['url_referer'] = request.META.get('HTTP_REFERER')
--    context = {'form': form, 'formset': formset}
-+    context = {'form': form, 'formset': formset, 'news': order_instance}
-     return render(request, template_name, context)
- 
- 
Index: .idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_20__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_20__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_20__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_20__Changes_.xml	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ /dev/null	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
@@ -1,9 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_15_12_2023_23_20_[Changes]" date="1702650043686" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_20_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 15.12.2023 23:20 [Changes]" />
-  <binary>
-    <option name="BEFORE_PATH" value="RTK_study/db.sqlite3" />
-    <option name="AFTER_PATH" value="RTK_study/db.sqlite3" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_15_12_2023_23_20_[Changes]/db.sqlite3" />
-  </binary>
-</changelist>
\ No newline at end of file
Index: RTK_study/users/views.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from django.contrib.auth import logout, authenticate, login, get_user_model, update_session_auth_hash\r\nfrom django.contrib.auth.decorators import login_required, permission_required\r\nfrom django.contrib.auth.forms import PasswordChangeForm, AdminPasswordChangeForm\r\nfrom django.shortcuts import render, redirect\r\nfrom .forms import *\r\nfrom django.contrib.auth.models import Group, Permission\r\n\r\n# from django.contrib.auth.forms import *\r\n\r\n\r\nUser = get_user_model()\r\n\r\n\r\ndef registration(request):\r\n    if request.method == 'POST':\r\n        group_reader, create_group = Group.objects.get_or_create(name=\"Readers\")\r\n        if create_group:\r\n            edit_profile = Permission.objects.get(codename=\"edit_profile\")\r\n            add_comments = Permission.objects.get(codename=\"add_comments\")\r\n            group_reader.permissions.add(edit_profile, add_comments)\r\n            group_reader.save()\r\n        if request.user.is_authenticated:\r\n            if request.user.has_perm('user.user_administration'):\r\n                form = AdminRegistrationForm(request.POST)\r\n            else:\r\n                return render(request, '403.html')\r\n        else:\r\n            form = RegistrationForm(request.POST)\r\n        if form.is_valid():\r\n            username = form.cleaned_data.get('username')\r\n            password1 = form.cleaned_data.get('password1')\r\n            password2 = form.cleaned_data.get('password2')\r\n            if password1 == password2:\r\n                user = form.save()\r\n                form.save_m2m()\r\n                user.groups.add(group_reader)\r\n                if request.user.is_authenticated and request.user.has_perm('user.user_administration'):\r\n                    return redirect('users:listusers', permanent=True)\r\n                else:\r\n                    login(request, user)\r\n                    return redirect('users:profile', permanent=True)\r\n    else:\r\n        if request.user.is_authenticated and request.user.has_perm('user.user_administration'):\r\n            form = AdminRegistrationForm()\r\n        else:\r\n            form = RegistrationForm()\r\n    return render(request, 'users/registration.html', {'form': form})\r\n\r\n\r\n@permission_required('users.edit_profile', raise_exception=True)\r\ndef profile(request, id=None):\r\n    if request.method == 'POST':\r\n        if id is not None and request.user.has_perm('users.user_administration'):\r\n            instance = User.objects.get(pk=id)\r\n            form = AdminCustumUserChangeForm(request.POST, instance=instance)\r\n            if form.is_valid():\r\n                form.save()\r\n                return redirect('users:listusers', permanent=True)\r\n        else:\r\n            instance = request.user\r\n            form = CustumUserChangeForm(request.POST, instance=instance)\r\n            if form.is_valid():\r\n                form.save()\r\n                return redirect('users:profile', permanent=True)\r\n    else:\r\n        if id is not None and request.user.has_perm('users.user_administration'):\r\n            instance = User.objects.get(pk=id)\r\n            form = AdminCustumUserChangeForm(instance=instance)\r\n        else:\r\n            instance = request.user\r\n            form = CustumUserChangeForm(instance=instance)\r\n\r\n    return render(request, 'users/profile.html', {'form': form, 'customer': instance})\r\n\r\n\r\ndef login_user(request):\r\n    if request.method == 'POST':\r\n        form = LoginUserForm(data=request.POST)\r\n        if form.is_valid():\r\n            username = form.cleaned_data['username']\r\n            password = form.cleaned_data['password']\r\n            user = authenticate(request, username=username, password=password)\r\n            if user and user.is_active:\r\n                login(request, user)\r\n                return redirect('main:news', permanent=True)\r\n    else:\r\n        form = LoginUserForm()\r\n    return render(request, 'users/login.html', {'form': form})\r\n\r\n\r\ndef logout_user(request):\r\n    logout(request)\r\n    return redirect('main:news', permanent=True)\r\n\r\n\r\n@permission_required('users.edit_profile', raise_exception=True)\r\ndef reset_password(request, id=None):\r\n\r\n    if request.method == \"POST\":\r\n        if id is not None and request.user.has_perm('users.user_administration'):\r\n            customer = User.objects.get(pk=id)\r\n            form = AdminPasswordChangeForm(user=customer, data=request.POST)\r\n            if form.is_valid():\r\n                form.save()\r\n        else:\r\n            customer = request.user\r\n            form = PasswordChangeForm(user=customer, data=request.POST)\r\n            if form.is_valid():\r\n                form.save()\r\n                update_session_auth_hash(request, form.user)\r\n    else:\r\n        if id is not None and request.user.has_perm('users.user_administration'):\r\n            customer = User.objects.get(pk=id)\r\n            form = AdminPasswordChangeForm(user=customer)\r\n        else:\r\n            customer = request.user\r\n            form = PasswordChangeForm(user=customer)\r\n    return render(request, 'users/resetpassword.html', {'form': form, 'customer': customer})\r\n\r\n\r\n@permission_required('users.user_administration', raise_exception=True)\r\ndef listusers(request):\r\n    customers = User.objects.all().order_by('last_name')\r\n    context = {\r\n        'customers': customers,\r\n    }\r\n    return render(request, 'users/listusers.html', context)\r\n\r\n\r\n@permission_required('users.user_administration', raise_exception=True)\r\ndef removeuser(request, id=None):\r\n    if id is not None:\r\n        entry = User.objects.filter(id=id)\r\n        entry.delete()\r\n    return redirect('users:listusers', permanent=True)\r\n\r\n\r\n@permission_required('users.change_group', raise_exception=True)\r\ndef listgroups(request):\r\n    groups = Group.objects.all()\r\n    context = {'groups': groups}\r\n    return render(request, 'users/listgroups.html', context)\r\n\r\n\r\n@permission_required('users.change_group', raise_exception=True)\r\ndef addgroup(request, id=None):\r\n    if request.method == 'POST':\r\n        if id is not None:\r\n            instance = Group.objects.get(pk=id)\r\n            form = GroupForm(request.POST, instance=instance)\r\n        else:\r\n            form = GroupForm(request.POST)\r\n        if form.is_valid():\r\n            form.save()\r\n            return redirect('users:listgroups', permanent=True)\r\n    context = {}\r\n    if id is not None:\r\n        instance = Group.objects.get(pk=id)\r\n        form = GroupForm(instance=instance)\r\n        context['group'] = instance\r\n    else:\r\n        form = GroupForm()\r\n    context['form'] = form\r\n    return render(request, 'users/addgroup.html', context)\r\n\r\n\r\n@permission_required('users.change_group', raise_exception=True)\r\ndef removegroup(request, id=None):\r\n    if id is not None:\r\n        entry = Group.objects.filter(id=id)\r\n        entry.delete()\r\n    return redirect('users:listgroups', permanent=True)\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/RTK_study/users/views.py b/RTK_study/users/views.py
--- a/RTK_study/users/views.py	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ b/RTK_study/users/views.py	(date 1702884713433)
@@ -1,9 +1,9 @@
 from django.contrib.auth import logout, authenticate, login, get_user_model, update_session_auth_hash
 from django.contrib.auth.decorators import login_required, permission_required
 from django.contrib.auth.forms import PasswordChangeForm, AdminPasswordChangeForm
+from django.contrib.auth.models import Group
 from django.shortcuts import render, redirect
 from .forms import *
-from django.contrib.auth.models import Group, Permission
 
 # from django.contrib.auth.forms import *
 
@@ -13,12 +13,7 @@
 
 def registration(request):
     if request.method == 'POST':
-        group_reader, create_group = Group.objects.get_or_create(name="Readers")
-        if create_group:
-            edit_profile = Permission.objects.get(codename="edit_profile")
-            add_comments = Permission.objects.get(codename="add_comments")
-            group_reader.permissions.add(edit_profile, add_comments)
-            group_reader.save()
+        print(request.POST)
         if request.user.is_authenticated:
             if request.user.has_perm('user.user_administration'):
                 form = AdminRegistrationForm(request.POST)
@@ -33,7 +28,6 @@
             if password1 == password2:
                 user = form.save()
                 form.save_m2m()
-                user.groups.add(group_reader)
                 if request.user.is_authenticated and request.user.has_perm('user.user_administration'):
                     return redirect('users:listusers', permanent=True)
                 else:
Index: RTK_study/contentmanagment/views.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import datetime\r\nfrom django.contrib.auth import get_user_model\r\nfrom django.contrib.auth.decorators import permission_required\r\nfrom django.core.paginator import Paginator\r\nfrom django.db.models import F, CharField, Q\r\nfrom django.db.models.functions import Concat\r\nfrom django.http import HttpResponseRedirect\r\nfrom django.shortcuts import render, redirect\r\nfrom django.contrib.auth.models import Permission\r\nfrom .forms import AddPublicationsForm, TagsForm, AddImageFormset\r\nfrom main.models import PublicationsModel, TagsModel, ImagesModel\r\n\r\n\r\nUser = get_user_model()\r\n\r\n\r\n@permission_required(['main.publications_editor'], raise_exception=True)\r\ndef creantepublication(request, id=None):\r\n    template_name = 'contentmanagment/addnews.html'\r\n    order_instance = PublicationsModel()\r\n    if id is not None:\r\n        order_instance = PublicationsModel.objects.get(pk=id)\r\n    form = AddPublicationsForm(request.POST or None, instance=order_instance, prefix='main')\r\n    formset = AddImageFormset(request.POST or None, request.FILES or None, instance=order_instance, prefix='images')\r\n    if request.method == 'POST':\r\n        if form.is_valid() and formset.is_valid():\r\n            news_entry = form.save(commit=False)\r\n            if id is None:\r\n                news_entry.autor = request.user\r\n                news_entry.date_pub = datetime.datetime.now()\r\n            news_entry.editor = request.user\r\n            news_entry.save()\r\n            form.save_m2m()\r\n            formset.save()\r\n            url_referer = request.session['url_referer']\r\n            return HttpResponseRedirect(url_referer)\r\n    request.session['url_referer'] = request.META.get('HTTP_REFERER')\r\n    context = {'form': form, 'formset': formset, 'news': order_instance}\r\n    return render(request, template_name, context)\r\n\r\n\r\n@permission_required(['main.publications_editor'], raise_exception=True)\r\ndef newschange(request):\r\n    newslist = PublicationsModel.objects.filter(autor=request.user).order_by('-date_pub')\r\n    context = {'newslist': newslist}\r\n    return render(request, 'contentmanagment/newslist.html', context)\r\n\r\n\r\n@permission_required(['main.publications_editor', 'main.main_publications_editor'], raise_exception=True)\r\ndef removenews(request, news_id):\r\n    PublicationsModel.objects.filter(id=news_id).delete()\r\n    return redirect('contentmanagment:news-list', permanent=True)\r\n\r\n\r\n@permission_required(['main.tags_editor'], raise_exception=True)\r\ndef tags(request, id=None):\r\n    tags_news = TagsModel.objects.all()\r\n    if id is not None:\r\n        instance = TagsModel.objects.get(pk=id)\r\n        form = TagsForm(instance=instance)\r\n    else:\r\n        form = TagsForm()\r\n    if request.method == 'POST':\r\n        if id is not None:\r\n            instance = TagsModel.objects.get(pk=id)\r\n            form = TagsForm(request.POST, instance=instance)\r\n        else:\r\n            form = TagsForm(request.POST)\r\n        if form.is_valid():\r\n            form.save()\r\n            return redirect('contentmanagment:tags', permanent=True)\r\n    context = {\r\n        'tags': tags_news,\r\n        'form': form,\r\n        'id': id,\r\n    }\r\n    return render(request, 'contentmanagment/tags.html', context)\r\n\r\n\r\n@permission_required(['main.main_publications_editor'], raise_exception=True)\r\ndef administratenews(request):\r\n    date_start = datetime.date.today() - datetime.timedelta(days=30)\r\n    date_end = datetime.date.today()\r\n    autor_id = 0\r\n    queryset = PublicationsModel.objects.filter(Q(date_pub__date__gte = date_start) & Q(date_pub__date__lte = date_end)).order_by('-date_pub')\r\n    if request.method == 'POST':\r\n        if request.POST['date_start']:\r\n            date_start = datetime.datetime.strptime(request.POST['date_start'], \"%Y-%m-%d\")\r\n            queryset = queryset.filter(date_pub__date__gte = date_start)\r\n        if request.POST['date_end']:\r\n            date_end = datetime.datetime.strptime(request.POST['date_end'], \"%Y-%m-%d\")\r\n            queryset = queryset.filter(date_pub__date__lte = date_end)\r\n        autor_id = int(request.POST['autor'])\r\n        if autor_id != 0:\r\n            queryset = queryset.filter(autor = autor_id)\r\n\r\n    paginator = Paginator(queryset.distinct(), 20)\r\n    page_number = request.GET.get('page')\r\n    newslist = paginator.get_page(page_number)\r\n    perm = Permission.objects.get(codename='publications_editor')\r\n    autors = User.objects.filter(Q(groups__permissions=perm) | Q(user_permissions=perm)).distinct()\r\n    context = {'newslist': newslist, 'autors': autors, 'date_start': date_start.strftime('%Y-%m-%d'), 'date_end': date_end.strftime('%Y-%m-%d'), 'autor_id': autor_id}\r\n    return render(request, 'contentmanagment/adminlist.html', context)\r\n\r\n\r\n@permission_required(['main.tags_editor'], raise_exception=True)\r\ndef removetag(request, id=None):\r\n    if id is not None:\r\n        TagsModel.objects.filter(id=id).delete()\r\n        return redirect('contentmanagment:tags', permanent=True)\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/RTK_study/contentmanagment/views.py b/RTK_study/contentmanagment/views.py
--- a/RTK_study/contentmanagment/views.py	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ b/RTK_study/contentmanagment/views.py	(date 1702884713289)
@@ -7,7 +7,7 @@
 from django.http import HttpResponseRedirect
 from django.shortcuts import render, redirect
 from django.contrib.auth.models import Permission
-from .forms import AddPublicationsForm, TagsForm, AddImageFormset
+from .forms import AddPublicationsForm, TagsForm
 from main.models import PublicationsModel, TagsModel, ImagesModel
 
 
@@ -15,28 +15,40 @@
 
 
 @permission_required(['main.publications_editor'], raise_exception=True)
-def creantepublication(request, id=None):
-    template_name = 'contentmanagment/addnews.html'
-    order_instance = PublicationsModel()
-    if id is not None:
-        order_instance = PublicationsModel.objects.get(pk=id)
-    form = AddPublicationsForm(request.POST or None, instance=order_instance, prefix='main')
-    formset = AddImageFormset(request.POST or None, request.FILES or None, instance=order_instance, prefix='images')
+def addnews(request, id=None):
+    context = {}
+    if id:
+        instance = PublicationsModel.objects.get(pk=id)
+        form = AddPublicationsForm(instance=instance)
+    else:
+        instance = None
+        form = AddPublicationsForm()
     if request.method == 'POST':
-        if form.is_valid() and formset.is_valid():
-            news_entry = form.save(commit=False)
+        form = AddPublicationsForm(request.POST, request.FILES, instance=instance)
+        if form.is_valid():
             if id is None:
+                print('!!!!!!!!!!!!!!!!!!!!!!', datetime.datetime.now())
+                news_entry = form.save(commit=False)
                 news_entry.autor = request.user
                 news_entry.date_pub = datetime.datetime.now()
-            news_entry.editor = request.user
-            news_entry.save()
-            form.save_m2m()
-            formset.save()
-            url_referer = request.session['url_referer']
-            return HttpResponseRedirect(url_referer)
+                news_entry.editor = request.user
+                news_entry.save()
+                form.save_m2m()
+                for img in request.FILES.getlist('image_field'):
+                    ImagesModel.objects.create(news=news_entry, image=img, description=img.name)
+            else:
+                news_entry = form.save(commit=False)
+                news_entry.editor = request.user
+                news_entry.save()
+                form.save_m2m()
+                for img in request.FILES.getlist('image_field'):
+                    ImagesModel.objects.create(news=news_entry, image=img, description=img.name)
+        url_referer = request.session['url_referer']
+        return HttpResponseRedirect(url_referer)
     request.session['url_referer'] = request.META.get('HTTP_REFERER')
-    context = {'form': form, 'formset': formset, 'news': order_instance}
-    return render(request, template_name, context)
+    context['form'] = form
+    context['news'] = instance
+    return render(request, 'contentmanagment/addnews.html', context)
 
 
 @permission_required(['main.publications_editor'], raise_exception=True)
Index: readme.md
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Здравствуйте! Меня зовут Александр.\r\n### Этот репозиторий создан для учебного проекта на Django\r\n\r\n### Заведен тестовый пользователь с данными для авторизации user/user_123\r\n\r\n#### Список задач, которые нужно решить в этом проекте:\r\n\r\n- [x] Создание общих шаблонов\r\n  - [x] шабон страницы 404\r\n  - [x] Шаблон страницы AccessDenied\r\n  - [x] Базовый шаблон\r\n  - [x] Шаблон футера\r\n  - [x] Шаблон верхнего меню\r\n  - [x] Шаблон страницы для рендерингра пагинатора\r\n  - [x] Шаблон бокового меню\r\n- [x] Создание приложения User\r\n  - [x] Создание моделей\r\n    - [x] Создание кастомной модели User\r\n  - [x] Создание форм приложения\r\n    - [x] Форма авторизации\r\n    - [x] 2 формы регистрации пользователя\r\n    - [x] 2 формы редактирования профиля \r\n    - [x] Форма создания и редактирования групп доступа\r\n  - [x] Создание представлений приложения с шаблонами\r\n    - [x] Представление авторизации\r\n    - [x] Представление регистрации\r\n    - [x] Представление редактирования профиля\r\n    - [x] Представление выхода пользователя\r\n    - [x] Представление смены пароля пользователя\r\n    - [x] Представление списка пользователей\r\n    - [x] Представление удаления пользователя\r\n    - [x] Представление списка групп доступа\r\n    - [x] Представление добавления группы доступа\r\n    - [x] Представление удаления группы доступа\r\n  - [x] Настройка прав доступа к представлениям\r\n  - [x] Настройка URL\r\n- [x] Создание приложения просмотра публикаций\r\n  - [x] Создание моделей\r\n    - [x] Создание модели Публикации\r\n    - [x] Создание модели Тэги публикации\r\n    - [x] Создание модели Комментарии публикации\r\n  - [x] Создание форм приложения\r\n    - [x] Создание формы обратной связи\r\n    - [x] Создание формы добавления комментария\r\n    - [x] ~~Создание формы поиска~~ Используем html-форму sidebar\r\n  - [x] Создание представлений приложения с шаблонами\r\n    - [x] Создание представления О нас\r\n    - [x] Создание представления обратной связи\r\n    - [x] Создание представления списка публикации (annotate, поиск)\r\n    - [x] Создание представления полного текста публикации с функией добавления комментариев и каруселью картинок\r\n    - [x] Создание представления страницы 404\r\n    - [x] Создание представления модерирования комментариев\r\n  - [x] Настройка прав доступа к представлениям\r\n  - [x] Настройка URL\r\n- [x] Создание приложения администрирования публикаций\r\n  - [x] Создание форм приложения\r\n    - [x] Создание формы добавления и редактирования публикации\r\n    - [x] Создание формы добавления и редактирования тэгов публикации\r\n  - [x] Создание представлений приложения с шаблонами\r\n    - [x] Создание представления списка публикаций автора\r\n    - [x] Создание представления добавления и изменения публикации \r\n    - [x] Создание представления удаления публикации\r\n    - [x] Создание представления добавления и редактирования тэгов публикации\r\n    - [x] Создание представления удаления тэгов\r\n    - [x] Создание представления списка публикаций для руководства с фильтрацией по автору и дате\r\n  - [x] Настройка прав доступа к представлениям\r\n  - [x] Настройка URL\r\n- [ ] оптимизация приложений и отлавливание ошибок\r\n  - [x] Не добавляется Имя при регистрации пользователя IT-специалистом\r\n  - [x] Публикации пользователей вываливаются в ошибку 500 perm = Permission.objects.get(codename='news_editor') \r\n  - [x] Не добавляет новость - ругается на поле date_pub\r\n  - [ ] Не изменять автора публикации при редактировании в inline-ветке.\r\n- [ ] Перенос приложения на хостинг \r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/readme.md b/readme.md
--- a/readme.md	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ b/readme.md	(date 1702884713434)
@@ -58,7 +58,7 @@
     - [x] Создание формы добавления и редактирования тэгов публикации
   - [x] Создание представлений приложения с шаблонами
     - [x] Создание представления списка публикаций автора
-    - [x] Создание представления добавления и изменения публикации 
+    - [x] Создание представления добавления и изменения публикации
     - [x] Создание представления удаления публикации
     - [x] Создание представления добавления и редактирования тэгов публикации
     - [x] Создание представления удаления тэгов
@@ -70,4 +70,5 @@
   - [x] Публикации пользователей вываливаются в ошибку 500 perm = Permission.objects.get(codename='news_editor') 
   - [x] Не добавляет новость - ругается на поле date_pub
   - [ ] Не изменять автора публикации при редактировании в inline-ветке.
+  - [ ] Назначение начальных прав
 - [ ] Перенос приложения на хостинг 
Index: RTK_study/all_apps/templates/header.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% load bootstrap_icons %}\r\n<nav class=\"navbar navbar-expand-lg navbar-light\" style=\"background-color: #C5E1D4;\">\r\n    <div class=\"container-fluid\">\r\n        <a class=\"btn btn-success\" data-bs-toggle=\"offcanvas\" href=\"#offcanvasExample\" role=\"button\" aria-controls=\"offcanvasExample\">\r\n            {% bs_icon 'list' size='1.5em' %} Меню\r\n        </a>\r\n\r\n        {% if user.is_authenticated %}\r\n            <div class=\"dropdown ms-3\" style=\"background-color: #C5E1D4;\">\r\n                <button class=\"btn btn-success dropdown-toggle\" id=\"bd-versions\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\" data-bs-display=\"static\">\r\n                    {{ user.last_name }} {{ user.first_name }}\r\n                </button>\r\n                <ul class=\"dropdown-menu dropdown-menu-end\" style=\"background-color: #C5E1D4;\" aria-labelledby=\"bd-versions\">\r\n                    {% if perms.main.publications_editor %}\r\n                        <li>\r\n                            <a class=\"dropdown-item\" href=\"{% url 'contentmanagment:news-list' %}\">Мои публикации</a>\r\n                        </li>\r\n                        <li>\r\n                            <a class=\"dropdown-item\" href=\"{% url 'contentmanagment:creantepublication' %}\">Добавить новость</a>\r\n                        </li>\r\n                    {% endif %}\r\n                    {% if perms.main.tags_editor %}\r\n                        <li>\r\n                            <a class=\"dropdown-item\" href=\"{% url 'contentmanagment:tags' %}\">Тэги новостей</a>\r\n                        </li>\r\n                    {% endif %}\r\n                    {% if perms.main.main_news_editor %}\r\n                        <li>\r\n                            <a class=\"dropdown-item\" href=\"{% url 'contentmanagment:admin-newslist' %}\">Публикации пользователей</a>\r\n                        </li>\r\n                    {% endif %}\r\n                    {% if perms.main.view_messages %}\r\n                        <li>\r\n                            <a class=\"dropdown-item\" href=\"{% url 'main:messages' %}\">Сообщения пользователей</a>\r\n                        </li>\r\n                    {% endif %}\r\n                    {% if perms.users.edit_profile %}\r\n                        <li>\r\n                            <a class=\"dropdown-item\" href=\"{% url 'users:profile' %}\">Личный кабинет</a>\r\n                        </li>\r\n                    {% endif %}\r\n                    {% if perms.users.user_administration %}\r\n                        <li>\r\n                            <a class=\"dropdown-item\" href=\"{% url 'users:listusers' %}\">Пользователи</a>\r\n                        </li>\r\n                        <li>\r\n                            <a class=\"dropdown-item\" href=\"{% url 'users:listgroups' %}\">Группы доступа</a>\r\n                        </li>\r\n                    {% endif %}\r\n                    <li><hr class=\"dropdown-divider\"></li>\r\n                    <li>\r\n                        <a class=\"dropdown-item\"  href=\"{% url 'users:logout' %}\">Выход</a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        {% else %}\r\n            <div class=\"dropdown ms-3\" style=\"background-color: #C5E1D4;\">\r\n                <button class=\"btn btn-success dropdown-toggle\" id=\"bd-versions\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\" data-bs-display=\"static\">\r\n                    Профиль\r\n                </button>\r\n                <ul class=\"dropdown-menu dropdown-menu-end\" style=\"background-color: #C5E1D4;\" aria-labelledby=\"bd-versions\">\r\n                    <li>\r\n                        <a class=\"dropdown-item\" href=\"{% url 'users:registration' %}\">Регистрация</a>\r\n                    </li>\r\n                    <li>\r\n                        <a class=\"dropdown-item\" href=\"{% url 'users:login' %}\">Войти</a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        {% endif %}\r\n    </div>\r\n  </nav>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/RTK_study/all_apps/templates/header.html b/RTK_study/all_apps/templates/header.html
--- a/RTK_study/all_apps/templates/header.html	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ b/RTK_study/all_apps/templates/header.html	(date 1702884713285)
@@ -16,7 +16,7 @@
                             <a class="dropdown-item" href="{% url 'contentmanagment:news-list' %}">Мои публикации</a>
                         </li>
                         <li>
-                            <a class="dropdown-item" href="{% url 'contentmanagment:creantepublication' %}">Добавить новость</a>
+                            <a class="dropdown-item" href="{% url 'contentmanagment:addNews' %}">Добавить новость</a>
                         </li>
                     {% endif %}
                     {% if perms.main.tags_editor %}
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"Black\">\r\n    <option name=\"sdkName\" value=\"Python 3.12 (rtk_course)\" />\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" project-jdk-name=\"Python 3.11 (rtk_course)\" project-jdk-type=\"Python SDK\" />\r\n  <component name=\"PyCharmProfessionalAdvertiser\">\r\n    <option name=\"shown\" value=\"true\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ b/.idea/misc.xml	(date 1702884713282)
@@ -3,7 +3,7 @@
   <component name="Black">
     <option name="sdkName" value="Python 3.12 (rtk_course)" />
   </component>
-  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.11 (rtk_course)" project-jdk-type="Python SDK" />
+  <component name="ProjectRootManager" version="2" project-jdk-name="Python 3.12 (rtk_course)" project-jdk-type="Python SDK" />
   <component name="PyCharmProfessionalAdvertiser">
     <option name="shown" value="true" />
   </component>
Index: RTK_study/all_apps/templates/base.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n{% load bootstrap5 %}\r\n{% load bootstrap_icons %}\r\n{% load static %}\r\n{% load i18n %}\r\n<html lang=\"ru\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <link rel=\"stylesheet\" href=\"{% static 'main/css/style.css' %}\">\r\n    <script src=\"https://code.jquery.com/jquery-3.7.1.min.js\" integrity=\"sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=\" crossorigin=\"anonymous\"></script>\r\n    <!--<script type=\"text/javascript\" src=\"{{ STATIC_URL }}js/jquery.js\" />-->\r\n    <link href=\"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css\" rel=\"stylesheet\" />\r\n    <script src=\"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js\"></script>\r\n    {% bootstrap_css %}\r\n    {% bootstrap_javascript %}\r\n    {% block head %}  {% endblock head %}\r\n    <title>\r\n        {% block title %} Новостной сайт {% endblock %}\r\n    </title>\r\n</head>\r\n<body class=\"d-flex flex-column min-vh-100\">\r\n    {% block header %}\r\n        {% include \"header.html\" %}\r\n    {% endblock header %}\r\n\r\n    {% block sidebar %}\r\n        {% include \"sidebar.html\" %}\r\n    {% endblock sidebar %}\r\n\r\n    {% block content %}\r\n\r\n    {% endblock content %}\r\n\r\n    {% block footer %}\r\n        {% include \"footer.html\" %}\r\n    {% endblock footer %}\r\n\r\n\r\n</body>\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/RTK_study/all_apps/templates/base.html b/RTK_study/all_apps/templates/base.html
--- a/RTK_study/all_apps/templates/base.html	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ b/RTK_study/all_apps/templates/base.html	(date 1702884713284)
@@ -13,10 +13,10 @@
     <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
     {% bootstrap_css %}
     {% bootstrap_javascript %}
-    {% block head %}  {% endblock head %}
     <title>
         {% block title %} Новостной сайт {% endblock %}
     </title>
+    {% block head %}  {% endblock head %}
 </head>
 <body class="d-flex flex-column min-vh-100">
     {% block header %}
Index: requirements.txt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>asgiref==3.7.2\r\nbeautifulsoup4==4.12.2\r\ncertifi==2023.7.22\r\ncharset-normalizer==3.3.2\r\ndefusedxml==0.7.1\r\nDjango==4.1.10\r\ndjango-appconf==1.0.6\r\ndjango-bootstrap-icons==0.8.6\r\ndjango-bootstrap-v5==1.0.11\r\ndjango-bootstrap5==23.3\r\ndjango-debug-toolbar==4.2.0\r\ndjango-formset-js==0.5.0\r\ndjango-jquery==3.1.0\r\ndjango-jquery-js==3.1.1\r\ndjango-select2==8.1.2\r\nidna==3.4\r\nPillow==10.1.0\r\nrequests==2.31.0\r\nsoupsieve==2.5\r\nsqlparse==0.4.4\r\ntzdata==2023.3\r\nurllib3==2.0.7\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-16LE
===================================================================
diff --git a/requirements.txt b/requirements.txt
--- a/requirements.txt	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ b/requirements.txt	(date 1702884713434)
@@ -9,9 +9,7 @@
 django-bootstrap-v5==1.0.11
 django-bootstrap5==23.3
 django-debug-toolbar==4.2.0
-django-formset-js==0.5.0
 django-jquery==3.1.0
-django-jquery-js==3.1.1
 django-select2==8.1.2
 idna==3.4
 Pillow==10.1.0
Index: RTK_study/contentmanagment/templates/contentmanagment/newslist.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% extends  'base.html' %}\r\n{% load bootstrap_icons %}\r\n{% block title %}\r\n    Публикации\r\n{% endblock title %}\r\n\r\n{% block content %}\r\n    <h3 class=\"text-center py-3\">Публикации:</h3>\r\n    <div class=\"container col-12 col-md-10\">\r\n    <table class=\"table table-striped\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\"></th>\r\n            <th scope=\"col\">Публикация</th>\r\n            <th scope=\"col\"></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n        {% for news in newslist %}\r\n            <tr class=\"my-auto align-items-center\">\r\n                <th scope=\"row\" class=\"my-auto\">{{ forloop.counter }}</th>\r\n                <td class=\"my-auto align-items-center\">{{ news.title }}</td>\r\n                <td class=\"my-auto text-end\"><a class=\"btn btn-success my-0 py-1\" href=\"{% url 'contentmanagment:creantepublication' news.id %}\">{% bs_icon 'pencil-fill' size='1.3em' %} </a></td>\r\n            </tr>\r\n        {% endfor %}\r\n        </tbody>\r\n    </table>\r\n</div>\r\n{% endblock content %}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/RTK_study/contentmanagment/templates/contentmanagment/newslist.html b/RTK_study/contentmanagment/templates/contentmanagment/newslist.html
--- a/RTK_study/contentmanagment/templates/contentmanagment/newslist.html	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ b/RTK_study/contentmanagment/templates/contentmanagment/newslist.html	(date 1702884713288)
@@ -20,7 +20,7 @@
             <tr class="my-auto align-items-center">
                 <th scope="row" class="my-auto">{{ forloop.counter }}</th>
                 <td class="my-auto align-items-center">{{ news.title }}</td>
-                <td class="my-auto text-end"><a class="btn btn-success my-0 py-1" href="{% url 'contentmanagment:creantepublication' news.id %}">{% bs_icon 'pencil-fill' size='1.3em' %} </a></td>
+                <td class="my-auto text-end"><a class="btn btn-success my-0 py-1" href="{% url 'contentmanagment:addNews' news.id %}">{% bs_icon 'pencil-fill' size='1.3em' %} </a></td>
             </tr>
         {% endfor %}
         </tbody>
Index: RTK_study/contentmanagment/templates/contentmanagment/adminlist.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% extends  'base.html' %}\r\n{% load bootstrap_icons %}\r\n{% block title %}\r\n    Публикации\r\n{% endblock title %}\r\n\r\n{% block content %}\r\n    <h3 class=\"text-center py-3\">Публикации:</h3>\r\n\r\n    <div class=\"container col-12 col-md-10 py-0\">\r\n        <div class=\"col-12 mb-2 text-end\">\r\n            <button class=\"btn btn-success\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseFilter\" aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n                {% bs_icon 'funnel-fill' size='1em' %}\r\n            </button>\r\n        </div>\r\n        <div class=\"collapse\" id=\"collapseFilter\">\r\n            <form method=\"POST\" class=\"pb-3 row row-cols-1 row-cols-md-2 row-cols-lg-4 g-2 mx-auto\">\r\n                {% csrf_token %}\r\n                <div>\r\n                    <select class=\"form-select fs-6\" name=\"autor\">\r\n                        <option value=\"0\" {% if autor_id == 0 %}selected{% endif %} class=\"fs-6\">Выберите автора новостей</option>\r\n                        {% for autor in autors %}\r\n                            <option value=\"{{ autor.id }}\" {% if autor.id == autor_id %}selected{% endif %}>{{ autor.last_name }} {{ autor.first_name }}</option>\r\n                        {% endfor %}\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <input type=\"date\" class=\"form-control fs-6\" placeholder=\"Дата начала\" name=\"date_start\" value=\"{{ date_start }}\">\r\n                </div>\r\n                <div>\r\n                    <input type=\"date\" class=\"form-control fs-6\" placeholder=\"Дата окончания\" name=\"date_end\" value=\"{{ date_end }}\">\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\" class=\"btn btn-success col-12\">Найти</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    <div class=\"container col-12 col-md-10\">\r\n    <table class=\"table table-striped\">\r\n        <thead>\r\n          <tr>\r\n            <th scope=\"col\"></th>\r\n            <th scope=\"col\">Публикация</th>\r\n            <th scope=\"col\">Автор</th>\r\n            <th scope=\"col\">Лента</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n        {% for news in newslist.object_list %}\r\n            <tr class=\"my-auto align-items-center\" style=\"transform: rotate(0);\">\r\n                <th scope=\"row\" class=\"my-auto\">{{ forloop.counter }}</th>\r\n                <td class=\"my-auto align-items-center\"><a class=\"link-dark text-decoration-none stretched-link\" href=\"{% url 'contentmanagment:creantepublication' news.id %}\">{{ news.title|truncatewords:8 }}</a></td>\r\n                <td class=\"my-auto align-items-center\">{{ news.autor.last_name }} {{ news.autor.first_name|slice:\":1\" }}.</td>\r\n                <td class=\"my-auto align-items-center\">{% if news.show_news == True %}{% bs_icon 'check-circle' size='1.5em' %}{% else %}{% bs_icon 'x-circle' size='1.5em' %}{% endif %}</td>\r\n            </tr>\r\n        {% endfor %}\r\n        </tbody>\r\n    </table>\r\n    <div class=\"d-flex align-items-center justify-content-center py-2\">\r\n        {% include 'render_pagination.html' with pagination=newslist %}\r\n    </div>\r\n</div>\r\n{% endblock content %}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/RTK_study/contentmanagment/templates/contentmanagment/adminlist.html b/RTK_study/contentmanagment/templates/contentmanagment/adminlist.html
--- a/RTK_study/contentmanagment/templates/contentmanagment/adminlist.html	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ b/RTK_study/contentmanagment/templates/contentmanagment/adminlist.html	(date 1702884713287)
@@ -50,7 +50,7 @@
         {% for news in newslist.object_list %}
             <tr class="my-auto align-items-center" style="transform: rotate(0);">
                 <th scope="row" class="my-auto">{{ forloop.counter }}</th>
-                <td class="my-auto align-items-center"><a class="link-dark text-decoration-none stretched-link" href="{% url 'contentmanagment:creantepublication' news.id %}">{{ news.title|truncatewords:8 }}</a></td>
+                <td class="my-auto align-items-center"><a class="link-dark text-decoration-none stretched-link" href="{% url 'contentmanagment:addNews' news.id %}">{{ news.title|truncatewords:8 }}</a></td>
                 <td class="my-auto align-items-center">{{ news.autor.last_name }} {{ news.autor.first_name|slice:":1" }}.</td>
                 <td class="my-auto align-items-center">{% if news.show_news == True %}{% bs_icon 'check-circle' size='1.5em' %}{% else %}{% bs_icon 'x-circle' size='1.5em' %}{% endif %}</td>
             </tr>
Index: RTK_study/RTK_study/settings.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\"\"\"\r\nDjango settings for RTK_study project.\r\n\r\nGenerated by 'django-admin startproject' using Django 4.2.7.\r\n\r\nFor more information on this file, see\r\nhttps://docs.djangoproject.com/en/4.2/topics/settings/\r\n\r\nFor the full list of settings and their values, see\r\nhttps://docs.djangoproject.com/en/4.2/ref/settings/\r\n\"\"\"\r\nimport os\r\nfrom pathlib import Path\r\n#import os\r\n\r\n# Build paths inside the project like this: BASE_DIR / 'subdir'.\r\nBASE_DIR = Path(__file__).resolve().parent.parent\r\n\r\n\r\n# Quick-start development settings - unsuitable for production\r\n# See https://docs.djangoproject.com/en/4.2/howto/deployment/checklist/\r\n\r\n# SECURITY WARNING: keep the secret key used in production secret!\r\nSECRET_KEY = 'django-insecure-squ&)-*2#a#km-a3gezv7o%v=k3)vw5pgff*5h0@8qcu#ll)!t'\r\n\r\n# SECURITY WARNING: don't run with debug turned on in production!\r\nDEBUG = True\r\nALLOWED_HOSTS = []\r\n#DEBUG = False\r\n#ALLOWED_HOSTS = ['*']\r\n\r\n\r\n# Application definition\r\n\r\nINSTALLED_APPS = [\r\n    'django.contrib.admin',\r\n    'django.contrib.auth',\r\n    'django.contrib.contenttypes',\r\n    'django.contrib.sessions',\r\n    'django.contrib.messages',\r\n    'django.contrib.staticfiles',\r\n    'django_select2',\r\n    'main',\r\n    'users',\r\n    'contentmanagment',\r\n    'bootstrap5',\r\n    'django_bootstrap_icons',\r\n    'debug_toolbar',\r\n    'jquery',\r\n    'djangoformsetjs',\r\n]\r\n\r\nMIDDLEWARE = [\r\n    'django.middleware.security.SecurityMiddleware',\r\n    'django.contrib.sessions.middleware.SessionMiddleware',\r\n    'django.middleware.common.CommonMiddleware',\r\n    'django.middleware.csrf.CsrfViewMiddleware',\r\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\r\n    'django.contrib.messages.middleware.MessageMiddleware',\r\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\r\n    'django.middleware.locale.LocaleMiddleware',\r\n    'debug_toolbar.middleware.DebugToolbarMiddleware',\r\n]\r\n\r\nINTERNAL_IPS = ['127.0.0.1',]\r\n\r\nROOT_URLCONF = 'RTK_study.urls'\r\n\r\nTEMPLATES = [\r\n    {\r\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\r\n        'DIRS': [BASE_DIR/'all_apps/templates'],\r\n        'APP_DIRS': True,\r\n        'OPTIONS': {\r\n            'context_processors': [\r\n                'django.template.context_processors.debug',\r\n                'django.template.context_processors.request',\r\n                'django.contrib.auth.context_processors.auth',\r\n                'django.contrib.messages.context_processors.messages',\r\n            ],\r\n        },\r\n    },\r\n]\r\n\r\nWSGI_APPLICATION = 'RTK_study.wsgi.application'\r\n\r\n\r\n# Database\r\n# https://docs.djangoproject.com/en/4.2/ref/settings/#databases\r\n\r\nDATABASES = {\r\n    'default': {\r\n        'ENGINE': 'django.db.backends.sqlite3',\r\n        'NAME': BASE_DIR / 'db.sqlite3',\r\n    }\r\n}\r\n\r\n\r\n# Password validation\r\n# https://docs.djangoproject.com/en/4.2/ref/settings/#auth-password-validators\r\n\r\nAUTH_PASSWORD_VALIDATORS = [\r\n    {\r\n        'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator',\r\n    },\r\n    {\r\n        'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator',\r\n    },\r\n    {\r\n        'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator',\r\n    },\r\n    {\r\n        'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator',\r\n    },\r\n]\r\n\r\nAUTH_USER_MODEL = 'users.User'\r\n\r\n# Internationalization\r\n# https://docs.djangoproject.com/en/4.2/topics/i18n/\r\n\r\nLANGUAGE_CODE = 'ru'\r\n\r\nTIME_ZONE = 'Asia/Chita'\r\n\r\nUSE_I18N = True\r\n\r\nUSE_TZ = True\r\n\r\n\r\n# Static files (CSS, JavaScript, Images)\r\n# https://docs.djangoproject.com/en/4.2/howto/static-files/\r\n\r\nSTATIC_URL = \"/static/\"\r\nSTATIC_ROOT = BASE_DIR / \"static\"\r\n#STATICFILES_DIRS = []\r\n\r\nBS_ICONS_CACHE = BASE_DIR / 'icon_cache'\r\n\r\nMEDIA_URL = '/media/'\r\nMEDIA_ROOT = BASE_DIR / 'media'\r\n\r\n# Default primary key field type\r\n# https://docs.djangoproject.com/en/4.2/ref/settings/#default-auto-field\r\n\r\nDEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'\r\n\r\nBOOTSTRAP5 = {\r\n\r\n    # The complete URL to the Bootstrap CSS file\r\n    # Note that a URL can be either a string,\r\n    # e.g. \"https://stackpath.bootstrapcdn.com/bootstrap/5.1.1/css/bootstrap.min.css\",\r\n    # or a dict like the default value below.\r\n    \"css_url\": {\r\n        \"href\": \"https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css\",\r\n        \"integrity\": \"sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9\",\r\n        \"crossorigin\": \"anonymous\",\r\n    },\r\n\r\n    # The complete URL to the Bootstrap JavaScript file\r\n    \"javascript_url\": {\r\n        \"url\": \"https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js\",\r\n        \"integrity\": \"sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm\",\r\n        \"crossorigin\": \"anonymous\",\r\n    },\r\n\r\n    # The complete URL to the Bootstrap CSS file (None means no theme)\r\n    \"theme_url\": None,\r\n\r\n    # Put JavaScript in the HEAD section of the HTML document (only relevant if you use bootstrap5.html)\r\n    'javascript_in_head': False,\r\n\r\n    # Label class to use in horizontal forms\r\n    'horizontal_label_class': 'col-md-3',\r\n\r\n    # Field class to use in horizontal forms\r\n    'horizontal_field_class': 'col-md-9',\r\n\r\n    # Set placeholder attributes to label if no placeholder is provided\r\n    'set_placeholder': False,\r\n\r\n    # Class to indicate required (better to set this in your Django form)\r\n    'required_css_class': '',\r\n\r\n    # Class to indicate error (better to set this in your Django form)\r\n    'error_css_class': 'is-invalid',\r\n\r\n    # Class to indicate success, meaning the field has valid input (better to set this in your Django form)\r\n    'success_css_class': 'is-valid',\r\n\r\n    # Renderers (only set these if you have studied the source and understand the inner workings)\r\n    'formset_renderers':{\r\n        'default': 'bootstrap5.renderers.FormsetRenderer',\r\n    },\r\n    'form_renderers': {\r\n        'default': 'bootstrap5.renderers.FormRenderer',\r\n    },\r\n    'field_renderers': {\r\n        'default': 'bootstrap5.renderers.FieldRenderer',\r\n        'inline': 'bootstrap5.renderers.InlineFieldRenderer',\r\n    },\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/RTK_study/RTK_study/settings.py b/RTK_study/RTK_study/settings.py
--- a/RTK_study/RTK_study/settings.py	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ b/RTK_study/RTK_study/settings.py	(date 1702884713284)
@@ -47,7 +47,6 @@
     'django_bootstrap_icons',
     'debug_toolbar',
     'jquery',
-    'djangoformsetjs',
 ]
 
 MIDDLEWARE = [
Index: RTK_study/contentmanagment/urls.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from django.urls import path\r\nfrom . import views\r\n\r\nurlpatterns = [\r\n    path('addnews/', views.creantepublication, name='creantepublication'),\r\n    path('addnews/<int:id>/', views.creantepublication, name='creantepublication'),\r\n    path('newslist/', views.newschange, name='news-list'),\r\n    path('removenews/<int:news_id>/', views.removenews, name='removeNews'),\r\n    path('tags/', views.tags, name='tags'),\r\n    path('tags/<int:id>/', views.tags, name='tags'),\r\n    path('removetag/<int:id>/', views.removetag, name='removetag'),\r\n    path('adminnewslist/', views.administratenews, name='admin-newslist'),\r\n]\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/RTK_study/contentmanagment/urls.py b/RTK_study/contentmanagment/urls.py
--- a/RTK_study/contentmanagment/urls.py	(revision 3fca0873d29360b2634e8adc06d93b2a9a32d2f4)
+++ b/RTK_study/contentmanagment/urls.py	(date 1702884713289)
@@ -2,8 +2,8 @@
 from . import views
 
 urlpatterns = [
-    path('addnews/', views.creantepublication, name='creantepublication'),
-    path('addnews/<int:id>/', views.creantepublication, name='creantepublication'),
+    path('addnews/', views.addnews, name='addNews'),
+    path('addnews/<int:id>/', views.addnews, name='addNews'),
     path('newslist/', views.newschange, name='news-list'),
     path('removenews/<int:news_id>/', views.removenews, name='removeNews'),
     path('tags/', views.tags, name='tags'),
